#version 430 core
layout(vertices=3)out;in vec2 uv[],texCoords[];in vec3 posWorld[];in flat int instanceIndex[];out vec2 tcsUV[],tcsTexCoords[];out vec3 tcsPosWorld[];out flat int tcsInstanceIndex[];uniform vec2 characterPos;void main(){tcsUV[gl_InvocationID]=uv[gl_InvocationID];tcsTexCoords[gl_InvocationID]=texCoords[gl_InvocationID];tcsPosWorld[gl_InvocationID]=posWorld[gl_InvocationID];tcsInstanceIndex[gl_InvocationID]=instanceIndex[gl_InvocationID];float t=length(characterPos-tcsPosWorld[gl_InvocationID].xz);gl_TessLevelInner[0]=clamp(mix(3.,10.,smoothstep(5.,1.,t)),3.,10.);gl_TessLevelOuter[0]=3.;gl_TessLevelOuter[1]=3.;gl_TessLevelOuter[2]=3.;}